var n={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6},w={parse:function(r,f){return o(r,n,f)},stringify:function(r,f){return y(r,n,f)}};function o(t,r,f){var u;if(f===void 0&&(f={}),!r.codes){r.codes={};for(var b=0;b<r.chars.length;++b)r.codes[r.chars[b]]=b}if(!f.loose&&t.length*r.bits&7)throw new SyntaxError("Invalid padding");for(var i=t.length;t[i-1]==="=";)if(--i,!f.loose&&!((t.length-i)*r.bits&7))throw new SyntaxError("Invalid padding");for(var v=new((u=f.out)!=null?u:Uint8Array)(i*r.bits/8|0),a=0,e=0,h=0,s=0;s<i;++s){var l=r.codes[t[s]];if(l===void 0)throw new SyntaxError("Invalid character "+t[s]);e=e<<r.bits|l,a+=r.bits,a>=8&&(a-=8,v[h++]=255&e>>a)}if(a>=r.bits||255&e<<8-a)throw new SyntaxError("Unexpected end of data");return v}function y(t,r,f){f===void 0&&(f={});for(var u=f,b=u.pad,i=b===void 0?!0:b,v=(1<<r.bits)-1,a="",e=0,h=0,s=0;s<t.length;++s)for(h=h<<8|255&t[s],e+=8;e>r.bits;)e-=r.bits,a+=r.chars[v&h>>e];if(e&&(a+=r.chars[v&h<<r.bits-e]),i)for(;a.length*r.bits&7;)a+="=";return a}function x(t){if(t.buffer instanceof ArrayBuffer&&t.byteOffset===0&&t.byteLength===t.buffer.byteLength)return t.buffer;const r=new Uint8Array(t.length);return r.set(t),r.buffer}export{w as b,x as t};
